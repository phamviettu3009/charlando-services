2024-02-16 01:31:09.442  INFO 76563 --- [main] c.p.r.RealtimeServiceApplicationKt       : Starting RealtimeServiceApplicationKt using Java 11.0.17 on PhamVietTu.local with PID 76563 (/Users/macad/Documents/Project/microservice/realtime_service/build/classes/kotlin/main started by macad in /Users/macad/Documents/Project/microservice/realtime_service)
2024-02-16 01:31:09.452  INFO 76563 --- [main] c.p.r.RealtimeServiceApplicationKt       : No active profile set, falling back to 1 default profile: "default"
2024-02-16 01:31:10.614  INFO 76563 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5503 (http)
2024-02-16 01:31:10.624  INFO 76563 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-02-16 01:31:10.624  INFO 76563 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.73]
2024-02-16 01:31:10.714  INFO 76563 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-02-16 01:31:10.715  INFO 76563 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1188 ms
2024-02-16 01:31:11.525  INFO 76563 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5503 (http) with context path ''
2024-02-16 01:31:11.535  INFO 76563 --- [main] c.p.r.RealtimeServiceApplicationKt       : Started RealtimeServiceApplicationKt in 2.545 seconds (JVM running for 2.998)
2024-02-16 01:31:11.537  INFO 76563 --- [main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
2024-02-16 01:31:11.656  INFO 76563 --- [nioEventLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 5504
2024-02-16 01:32:15.993  INFO 76563 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-02-16 01:32:16.082  INFO 76563 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#15f35bc3:0/SimpleConnection@24be13da [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53506]
2024-02-16 01:32:26.143 ERROR 76563 --- [nioEventLoopGroup-3-1] c.c.socketio.handler.AuthorizeHandler    : Authorization error

org.springframework.web.server.ResponseStatusException: 504 GATEWAY_TIMEOUT
	at com.pvt.realtime_service.publisher.RabbitMQProducer.receiveMessage(RabbitMQProducer.kt:35) ~[main/:na]
	at com.pvt.realtime_service.publisher.RabbitMQProducer.sendAndCallbackMessage(RabbitMQProducer.kt:23) ~[main/:na]
	at com.pvt.realtime_service.configs.SocketIOConfig.socketIOServer$lambda-0(SocketIOConfig.kt:23) ~[main/:na]
	at com.corundumstudio.socketio.handler.AuthorizeHandler.authorize(AuthorizeHandler.java:155) ~[netty-socketio-2.0.6.jar:na]
	at com.corundumstudio.socketio.handler.AuthorizeHandler.channelRead(AuthorizeHandler.java:129) ~[netty-socketio-2.0.6.jar:na]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:102) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111) ~[netty-codec-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.90.Final.jar:4.1.90.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.90.Final.jar:4.1.90.Final]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]

2024-02-16 01:35:36.376  INFO 77424 --- [main] c.p.r.RealtimeServiceApplicationKt       : Starting RealtimeServiceApplicationKt using Java 11.0.17 on PhamVietTu.local with PID 77424 (/Users/macad/Documents/Project/microservice/realtime_service/build/classes/kotlin/main started by macad in /Users/macad/Documents/Project/microservice/realtime_service)
2024-02-16 01:35:36.380  INFO 77424 --- [main] c.p.r.RealtimeServiceApplicationKt       : No active profile set, falling back to 1 default profile: "default"
2024-02-16 01:35:37.465  INFO 77424 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5503 (http)
2024-02-16 01:35:37.475  INFO 77424 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-02-16 01:35:37.475  INFO 77424 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.73]
2024-02-16 01:35:37.547  INFO 77424 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-02-16 01:35:37.547  INFO 77424 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1092 ms
2024-02-16 01:35:38.095  INFO 77424 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5503 (http) with context path ''
2024-02-16 01:35:38.103  INFO 77424 --- [main] c.p.r.RealtimeServiceApplicationKt       : Started RealtimeServiceApplicationKt in 2.107 seconds (JVM running for 2.464)
2024-02-16 01:35:38.105  INFO 77424 --- [main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
2024-02-16 01:35:38.206  INFO 77424 --- [nioEventLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 5504
2024-02-16 01:35:44.711  INFO 77424 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-02-16 01:35:44.758  INFO 77424 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3d90eeb3:0/SimpleConnection@45771556 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53558]
2024-02-16 01:43:46.613  INFO 78994 --- [main] c.p.r.RealtimeServiceApplicationKt       : Starting RealtimeServiceApplicationKt using Java 11.0.17 on PhamVietTu.local with PID 78994 (/Users/macad/Documents/Project/microservice/realtime_service/build/classes/kotlin/main started by macad in /Users/macad/Documents/Project/microservice/realtime_service)
2024-02-16 01:43:46.617  INFO 78994 --- [main] c.p.r.RealtimeServiceApplicationKt       : No active profile set, falling back to 1 default profile: "default"
2024-02-16 01:43:47.575  INFO 78994 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5503 (http)
2024-02-16 01:43:47.585  INFO 78994 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-02-16 01:43:47.585  INFO 78994 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.73]
2024-02-16 01:43:47.658  INFO 78994 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-02-16 01:43:47.658  INFO 78994 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 962 ms
2024-02-16 01:43:48.223  INFO 78994 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5503 (http) with context path ''
2024-02-16 01:43:48.231  INFO 78994 --- [main] c.p.r.RealtimeServiceApplicationKt       : Started RealtimeServiceApplicationKt in 1.991 seconds (JVM running for 2.348)
2024-02-16 01:43:48.232  INFO 78994 --- [main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
2024-02-16 01:43:48.331  INFO 78994 --- [nioEventLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 5504
2024-02-16 01:44:14.743  INFO 78994 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-02-16 01:44:14.789  INFO 78994 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7fb53256:0/SimpleConnection@35cba26a [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53638]
2024-02-16 01:44:54.299  INFO 79219 --- [main] c.p.r.RealtimeServiceApplicationKt       : Starting RealtimeServiceApplicationKt using Java 11.0.17 on PhamVietTu.local with PID 79219 (/Users/macad/Documents/Project/microservice/realtime_service/build/classes/kotlin/main started by macad in /Users/macad/Documents/Project/microservice/realtime_service)
2024-02-16 01:44:54.303  INFO 79219 --- [main] c.p.r.RealtimeServiceApplicationKt       : No active profile set, falling back to 1 default profile: "default"
2024-02-16 01:44:55.177  INFO 79219 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5503 (http)
2024-02-16 01:44:55.187  INFO 79219 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-02-16 01:44:55.187  INFO 79219 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.73]
2024-02-16 01:44:55.257  INFO 79219 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-02-16 01:44:55.258  INFO 79219 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 896 ms
2024-02-16 01:44:55.808  INFO 79219 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5503 (http) with context path ''
2024-02-16 01:44:55.815  INFO 79219 --- [main] c.p.r.RealtimeServiceApplicationKt       : Started RealtimeServiceApplicationKt in 2.222 seconds (JVM running for 2.587)
2024-02-16 01:44:55.817  INFO 79219 --- [main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
2024-02-16 01:44:55.919  INFO 79219 --- [nioEventLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 5504
2024-02-16 01:45:05.859  INFO 79219 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-02-16 01:45:05.906  INFO 79219 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2f894ad9:0/SimpleConnection@30ecbe05 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53660]
2024-02-16 01:50:35.900  INFO 80336 --- [main] c.p.r.RealtimeServiceApplicationKt       : Starting RealtimeServiceApplicationKt using Java 11.0.17 on PhamVietTu.local with PID 80336 (/Users/macad/Documents/Project/microservice/realtime_service/build/classes/kotlin/main started by macad in /Users/macad/Documents/Project/microservice/realtime_service)
2024-02-16 01:50:35.902  INFO 80336 --- [main] c.p.r.RealtimeServiceApplicationKt       : No active profile set, falling back to 1 default profile: "default"
2024-02-16 01:50:36.740  INFO 80336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 5503 (http)
2024-02-16 01:50:36.748  INFO 80336 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-02-16 01:50:36.748  INFO 80336 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.73]
2024-02-16 01:50:36.817  INFO 80336 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-02-16 01:50:36.818  INFO 80336 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 853 ms
2024-02-16 01:50:37.368  INFO 80336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 5503 (http) with context path ''
2024-02-16 01:50:37.376  INFO 80336 --- [main] c.p.r.RealtimeServiceApplicationKt       : Started RealtimeServiceApplicationKt in 1.883 seconds (JVM running for 2.267)
2024-02-16 01:50:37.378  INFO 80336 --- [main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
2024-02-16 01:50:37.481  INFO 80336 --- [nioEventLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 5504
2024-02-16 01:51:05.803  INFO 80336 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-02-16 01:51:05.848  INFO 80336 --- [nioEventLoopGroup-3-1] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7fb53256:0/SimpleConnection@104542ab [delegate=amqp://guest@127.0.0.1:5672/, localPort= 53812]
2024-02-16 02:07:27.651  WARN 80336 --- [AMQP Connection 127.0.0.1:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Connection reset)
